Install Django.
- https://docs.djangoproject.com/en/1.6/intro/install/
- Download latest release of Django.
  https://www.djangoproject.com/download/
- scp to dev VM /var/tmp/.
$ cd /var/tmp/
$ tar xzvf Django-1.6.5.tar.gz
$ cd Django-1.6.5/
$ sudo python setup.py install

Install Python modules.
$ sudo apt-get install python-lockfile
  (python-lockfile)
$ sudo pip install pyvmomi
  (pyvmomi, requests, six)

Install app.
$ cd /opt
$ git clone http://nsxgitlab.nicira.eng.vmware.com/nsbu-sas/the-ui.git supervio
$ mkdir /opt/supervio/.blackhole
# Same user and group as in Apache conf's WSGIDaemonProcess
$ sudo chown -R nicira:nicira /opt/supervio/

Create /opt/supervio/supervio/local_settings.py.
$ cp /opt/supervio/supervio/local_settings.py.example /opt/supervio/supervio/local_settings.py
- *_DIR directories need to be created if not already existing. All these
  directories and files underneath them must be owned by same user and group
  from Apache conf's WSGIDaemonProcess.
$ mkdir <ANSWER_FILE_DIR>
$ chown -R nicira:nicira <ANSWER_FILE_DIR>
$ mkdir <PREPARE_FILES_DIR>
$ mkdir <SUPERVIO_LOG_DIR>
$ chown -R nicira:nicira <SUPERVIO_LOG_DIR>
- Make sure ANSWER_FILE_BASE is in its appropriate location.

Create Django database and tables.
$ sudo apt-get install sqlite3
  (sqlite3)
$ touch /opt/supervio/supervio.db
$ python manage.py syncdb --noinput

Install Apache and mod_wsgi.
- https://docs.djangoproject.com/en/1.6/howto/deployment/wsgi/modwsgi/
$ sudo apt-get install apache2
  (apache2 apache2-mpm-worker apache2-utils apache2.2-bin apache2.2-common
  libapr1 libaprutil1 libaprutil1-dbd-sqlite3 libaprutil1-ldap)
$ sudo apt-get install libapache2-mod-wsgi
  (libapache2-mod-wsgi)
$ cd /etc/apache2/sites-available/
$ sudo vim supervio 
  <VirtualHost *:80>
      #ServerName www.example.com
      #ServerAlias example.com
      #ServerAdmin webmaster@example.com

      DocumentRoot /opt/supervio/.blackhole/
      Alias /static/ /opt/supervio/supervio/static/

      <Directory />
          Options FollowSymLinks
          AllowOverride None
      </Directory>

      <Directory /opt/supervio/>
          Options Indexes FollowSymLinks MultiViews
          AllowOverride None
          Order allow,deny
          Allow from all
      </Directory>

      WSGIDaemonProcess supervio user=nicira group=nicira processes=2 threads=15 display-name=%{GROUP}
      WSGIProcessGroup supervio
      WSGIScriptAlias / /opt/supervio/supervio/wsgi/wsgi.py

      ErrorLog /var/log/apache2/supervio_error.log
      LogLevel info
      CustomLog /var/log/apache2/supervio_access.log combined
  </VirtualHost>
$ sudo a2dissite default
$ sudo a2ensite supervio
$ sudo service apache2 restart

Licence and Copyright Notice

   Copyright 2015 VMware, Inc.

   Licensed under the Apache License, Version 2.0 (the "License");
   you may not use this file except in compliance with the License.
   You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an "AS IS" BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   See the License for the specific language governing permissions and
   limitations under the License.
 
